## ✅ 4.1 좋은 단위 테스트의 4대 요소 자세히 살펴보기
* **첫 번째 요소: 회귀 방지**
  * 회귀는 소프트웨어 버그다. 코드를 수정한 후 기능이 의도한 대로 작동하지 않는 경우다.
  * 회귀 방지 지표를 극대화하려면 테스트가 가능한 한 많은 코드를 실행하는 것을 목표로 해야 한다.
* **두 번째 요소: 리팩터링 내성**
  * 리팩터링 내성은 테스트를 '빨간색'으로 바꾸지 않고 기본 애플리케이션 코드를 리팩터링할 수 있는지에 대한 척도다.
  * 리팩터링의 의도는 코드의 비기능적 특징을 개선하는 것으로 가독성을 높이고 복잡도를 낮추는 것이다.
  * 리팩터링 내성 지표에서 테스트 점수가 얼마나 잘 나오는지 평가하려면 테스트에서 얼마나 많이 거짓 양성이 발생하는지 살펴봐야 한다. 적을수록 좋다.
* **무엇이 거짓 양성의 원인인가?**
  * 테스트와 테스트 대상 시스템(SUT)의 구현 세부 사항이 많이 결합할수록 허위 경보가 더 많이 생긴다.
  * 거짓 양성이 생길 가능성을 줄이는 방법은 해당 구현 세부 사항에서 테스트를 분리하는 것뿐이다.
  * SUT의 구현 세부 사항과 결합된 테스트는 리팩터링 내성이 없다.
* **구현 세부 사항 대신 최종 결과를 목표로 하기**
  * 테스트를 깨지지 않게 하고 리팩터링 내성을 높이는 방법은 SUT의 구현 세부 사항과 테스트 간의 결합도를 낮추는 것뿐이다. 즉, 코드의 내부 작업과 테스트 사이를 가능한 한 멀리 떨어뜨리고 최종 결과를 목표로 하는 것이다.

## ✅ 4.2 첫 번째 특성과 두 번째 특성 간의 본질적인 관계
프로젝트가 시작된 직후에는 회귀 방지를 훌륭히 갖추는 것이 중요한 데 반해, 리팩터링 내성은 바로 필요하지 않다.
* **테스트 정확도 극대화**
  * 회귀 방지와 리팩터링 내성은 테스트 스위트의 정확도를 극대화하는 것을 목표로 한다.
  * 정확도 지표는 다음 두 가지 요소로 구성된다.
    * 테스트가 버그 있음을 얼마나 잘 나타내는가(거짓 음성(회귀 방지 영역) 제외)
    * 테스트가 버그 없음을 얼마나 잘 나타내는가(거짓 양성(리팩터링 내성 영역) 제외)
  * 테스트 정확도를 향상시키는 방법
    * 분자, 즉 신호를 증가시키는 것 -> 회귀를 더 잘 찾아내는 테스트로 개선하는 것
    * 분모, 즉 소음을 줄이는 것 -> 허위 경보를 발생시키지 않는 테스트로 개선하는 것
* **거짓 양성과 거짓 음성의 중요성: 역학 관계**
  * 프로젝트가 성장함에 따라 거짓 양성(허위 경부)은 테스트 스위트에 점점 큰 영향을 미친다.
  * 초기에는 왜 거짓 양성(허위 경보)이 중요하지 않은가? 리팩터링은 바로 중요하지는 않으며, 시간이 지나면서 점차 중요해진다.
  * 프로젝트 초기에는 코드 정리를 많이 할 필요가 없고, 개발자의 기억 속에 아직 생생하기 때문에 잘못된 경보가 발생해도 쉽게 리팩터링을 할 수 있다.
  * 그러나 시간이 프를수록 코드베이스는 나빠진다. 점점 복잡해지고 체계적이지 않게 된다. 따라서 이러한 경량을 줄이려면 정기적으로 리팩터링을 해야 한다.

## ✅ 4.3 세 번째 요소와 네 번째 요소: 빠른 피드백과 유지 보수성
* 빠른 피드백
  * 테스트가 빠르게 실행되면 코드에 결함이 생기자마자 버그에 대해 경고하기 시작할 정도로 피드백 루프를 대폭 줄여서, 버그를 수정하는 비용을 거의 0까지 줄일 수 있다.
  * 반면 느린 테스트는 피드백을 느리게 하고 잠재적으로 버그를 뒤늦게 눈에 띄게 해서 버그 수정 비용이 증가한다.
* 유지 보수성
  * 테스트가 얼마나 이해하기 어려운가
  * 테스트가 얼마나 실행하기 어려운가

## ✅ 4.4 이상적인 테스트를 찾아서 
* **이상적인 테스트를 만들 수 있는가?**
* **극단적인 사례 1: 엔드 투 엔드 테스트**
* **극단적인 사례 2: 간단한 테스트**
* **극단적인 사례 3: 깨지기 쉬운 테스트**
* **이상적인 테스트를 찾아서: 결론**

## ✅ 4.5 대중적인 테스트 자동화 개념 살펴보기
* 테스트 피라미드 분해
* 블랙박스 테스트와 화이트 테스트 간의 선택

## ✅ 요약

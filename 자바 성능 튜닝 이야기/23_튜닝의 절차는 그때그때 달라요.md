## ✏️ 성능 튜닝을 위한 아주 기초 법칙
* "암달의 법칙"
  * **1 Core에서 20시간 소요되는 작업 중 1시간은 절대 개선할 수 없다면, 20배 이상의 성능 향상을 불가능하다는 법**
  * 성능 개선율   
    ![image](https://github.com/syoh98/TIL/assets/76934280/75d29bd2-7101-4b48-a721-85f05207c48f)
    * P: 개선가능한 부분의 비율
    * S: 개선된 정도
  * 암달의 법칙 그래프   
    <img src="https://github.com/syoh98/TIL/assets/76934280/f3f0d2ce-7edf-416b-9423-40626673272e" width="500"/></br>
    * 어떤 프로그램이라고 할지라도 위와 같은 패턴을 보일 수 밖에 없으며, 성능 개선에는 한계가 생길 수 밖에 없다.
    * 아무리 최적화된 시스템이라고 할지라도 생각지도 못한 부분의 성능 저하는 발생할 수 밖에 없다.

## ✏️ 성능 튜닝 step by step
이 절차는 절대적이지 않다
* 원인 파악
  * 성능 저하가 발생하는 원인을 파악하는 단계
  * 어디가 병목인지 확실히 파악하여 원인을 찾아야 한다.
* 목표 설정
  * 성능 튜닝의 목표를 설정하는 단계
  * 반드시 목표를 설정할 필요는 없지만, 모든 일은 목표가 있어야만 제대로 된 결과가 나올 수 있다.
  * 성능 개선 뿐만 아니라, 향후 유지보수까지 모두 고려해서 목표를 설정하자.
* 튜닝 실시
  * 코드를 최적화하며 튜닝하는 단계
  * 튜닝을 실시하는 가장 좋은 방법은 프로파일링 툴이나 APM과 같은 툴을 사용하는 것이다.
  * 개선이 얼마나 되었는지를 확인하려면 JMH나 캘리퍼와 같은 성능 비교 도구를 사용하는 것도 큰 도움이 될 수 있다.
* 개선율 확인
  * 튜닝을 실시한 후 얼마나 개선되었는지를 확인하는 단계
* 결과 정리 및 반영
  * 튜닝한 결과들을 정리하고, 실제 운영되는 시스템에 반영하는 단계

## ✏️ 성능 튜닝의 비법
* 하나만 보지 말아라
  * 성능상 문제를 발생 시킬 수 있는 대상은 아주 많다. 따라서 성능상 이슈가 있을 때는 전체를 봐야한다
  * 전체 => 서버 장비(CPU, Network, Memory), 서버 OS(OS 커널, OS 설정), 자바 애플리케이션(스레드 풀 설정, DB Conncetion Pool 설정, Cache 설정, GC 설정), 웹 서버(프로세스 개수 설정, Connector 설정), 네트워크(사용자의 네트워크 종류, 사용자의 위치), 클라이언트(클라이언트 CPU, Network, Disk)
* 큰 놈을 없애라
  * 잔챙이 백날 튜닝해 봤자 효과없다.
  * 애플리케이션의 가장 큰 성능 저하가 발생하는 부분을 찾아서 튜닝하자.
* 깊게 알아야 한다
  * 개발 언어, OS, DB, N/W, 서버 등 대충 알면 대충 튜닝할 수 밖에 없다. 하지만, 이 모든 것의 전문가가 되기는 어려우므로 하나라도 전문가가 되자.
* 결과 공유는 선택이 아닌 필수!
  * 결과 정리를 할 떄 꼭 포함되어야 하는 내용
    * 개요: 튜닝을 실시한 배경
    * 튜닝 환경: 튜닝을 실시하고 성능을 측정한 서버 및 툴에 대한 상세한 내용
    * 튜닝 결과: 튜닝 전과 후의 결과를 비교
    * 결론: 어느 부분을 어떻게 변경하는 것이 가장 큰 효과를 줄지, 튜닝 작업을 진행한 담당자의 의견 등을 포함

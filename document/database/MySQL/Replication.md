https://dev.mysql.com/doc/refman/8.4/en/replication.html

복제를 사용하면 하나의 MySQL 데이터베이스 서버(소스)의 데이터를 하나 이상의 MySQL 데이터베이스 서버(복제본이라고 함)에 복사할 수 있다. 복제는 기본적으로 비동기식이다.
소스에서 업데이트를 받기 위해 복제본을 영구적으로 연결할 필요는 없다. 구성에 따라 모든 데이터베이스, 선택한 데이터베이스 또는 데이터베이스 내의 선택한 테이블까지 복제할 수 있다.

MySQL 복제의 장점은 다음과 같다.</br>

- **Scale-out 솔루션** - 성능 향상을 위해 여러 복제본(replica)에 부하를 분산시키는 방법이다.
  이러한 환경에서는 모든 쓰기 및 업데이트 작업이 소스 서버에서 이루어져야 한다. 반면, 읽기 작업은 하나 이상의 복제본에서 수행될 수 있다.
  이 모델은 소스 서버가 업데이트에 전념할 수 있도록 하여 쓰기 성능을 향상시키는 한편, 복제본의 수가 증가함에 따라 읽기 속도를 크게 높일 수 있다.
- **Data 보안** - 복제본(replica)이 복제 프로세스를 일시 중지할 수 있기 때문에 복제본에서 백업 서비스를 실행하면서 해당 소스 데이터가 손상되지 않도록 할 수 있다.
- **Analytics** - 소스(Source)에서 실시간 데이터가 생성되는 동안, 해당 데이터를 복제본(Replica)에서 분석함으로써 소스 성능에 영향을 주지 않고 정보를 처리할 수 있다.
- **원거리 데이터 배포(Long-distance data distribution)** - 복제를 사용하여 원격 사이트에서 사용할 로컬 데이터 사본을 생성할 수 있으며, 소스에 지속적으로 접근할 필요가 없다.

MySQL 8.4는 다양한 복제 방법을 지원한다. 보통의 방법은 소스의 바이너리 로그에서 이벤트를 복제하는 것을 기반으로 하며, 로그파일과 그 안의 위치가 소스와 복제본 간에 동기화되어야 한다.</br>
GTID(Global Transaction Identifier)를 기반으로 하는 새로운 방법은 트랜잭션이므로 로그 파일이나 파일 내의 위치에 대한 작업이 필요하지 않으므로 일반적인 복제 작업이 크게 단순화된다.
GTID를 사용하는 복제는 소스에서 커밋된 모든 트랜잭션이 복제본에 적용된 경우 소스와 복제본 간의 일관성을 보장한다.</br>

MySQL의 복제는 다양한 동기화 유형을 지원한다. 기존의 동기화 유형은 단방향 비동기 복제로 한 서버가 소스 역할을 하고 하나 이상의 다른 서버가 복제본 역할을 한다.
이는 NDB 클러스터의 특징인 동기 복제와는 대조적이다.</br>
MySQL 8.4에서는 기본 제공되는 비동기 복제 외에도 반동기 복제(semisynchronous replication)를 지원한다.
반동기 복제에서는 소스에서 수행된 커밋이 해당 트랜잭션의 이벤트를 최소한 하나의 복제본이 수신 및 기록했다는 것을 확인할 때까지 트랜잭션을 수행한 세션으로 반환을 차단한다.</br>
또한, MySQL 8.4는 지연 복제(delayed replication)를 지원하여 복제본이 소스보다 최소 지정된 시간만큼 고의적으로 지연되도록 할 수 있다.
동기 복제가 필요한 시나리오에서는 NDB 클러스터를 사용하자.</br>

서버 간 복제를 설정하기 위한 여러 가지 솔루션이 있으며, 최적의 방법은 데이터의 존재 여부와 사용하는 엔진 유형에 따라 달라진다.
복제 형식에는 두 가지 핵심 유형이 있다.
- Statement Based Replication(SBR): 전체 SQL문을 복제
- Row Based Replication(RBR): 변경된 행만 복제
- Mixed Based Replication(MBR)
